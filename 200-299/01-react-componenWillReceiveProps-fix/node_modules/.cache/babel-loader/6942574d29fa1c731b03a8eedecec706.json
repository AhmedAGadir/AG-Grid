{"ast":null,"code":"/**\n * ag-grid-community - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v19.1.4\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n\"use strict\";\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar gridOptionsWrapper_1 = require(\"../gridOptionsWrapper\");\n\nvar context_1 = require(\"../context/context\");\n\nvar dragService_1 = require(\"../dragAndDrop/dragService\");\n\nvar HorizontalResizeService =\n/** @class */\nfunction () {\n  function HorizontalResizeService() {}\n\n  HorizontalResizeService.prototype.addResizeBar = function (params) {\n    var _this = this;\n\n    var dragSource = {\n      dragStartPixels: 0,\n      eElement: params.eResizeBar,\n      onDragStart: this.onDragStart.bind(this, params),\n      onDragStop: this.onDragStop.bind(this, params),\n      onDragging: this.onDragging.bind(this, params)\n    };\n    this.dragService.addDragSource(dragSource, true); // we pass remove func back to the caller, so call can tell us when they\n    // are finished, and then we remove the listener from the drag source\n\n    var finishedWithResizeFunc = function finishedWithResizeFunc() {\n      return _this.dragService.removeDragSource(dragSource);\n    };\n\n    return finishedWithResizeFunc;\n  };\n\n  HorizontalResizeService.prototype.onDragStart = function (params, mouseEvent) {\n    this.draggingStarted = true;\n    this.dragStartX = mouseEvent.clientX;\n    this.setResizeIcons();\n    var shiftKey = mouseEvent instanceof MouseEvent ? mouseEvent.shiftKey === true : false;\n    params.onResizeStart(shiftKey);\n  };\n\n  HorizontalResizeService.prototype.setResizeIcons = function () {\n    this.oldBodyCursor = this.eGridDiv.style.cursor;\n    this.oldMsUserSelect = this.eGridDiv.style.msUserSelect;\n    this.oldWebkitUserSelect = this.eGridDiv.style.webkitUserSelect; // change the body cursor, so when drag moves out of the drag bar, the cursor is still 'resize' (or 'move'\n\n    this.eGridDiv.style.cursor = 'col-resize'; // we don't want text selection outside the grid (otherwise it looks weird as text highlights when we move)\n\n    this.eGridDiv.style.msUserSelect = 'none';\n    this.eGridDiv.style.webkitUserSelect = 'none';\n  };\n\n  HorizontalResizeService.prototype.onDragStop = function (params, mouseEvent) {\n    params.onResizeEnd(this.resizeAmount);\n    this.resetIcons();\n  };\n\n  HorizontalResizeService.prototype.resetIcons = function () {\n    // we don't want text selection outside the grid (otherwise it looks weird as text highlights when we move)\n    this.eGridDiv.style.cursor = this.oldBodyCursor;\n    this.eGridDiv.style.msUserSelect = this.oldMsUserSelect;\n    this.eGridDiv.style.webkitUserSelect = this.oldWebkitUserSelect;\n  };\n\n  HorizontalResizeService.prototype.onDragging = function (params, mouseEvent) {\n    this.resizeAmount = mouseEvent.clientX - this.dragStartX;\n    params.onResizing(this.resizeAmount);\n  };\n\n  __decorate([context_1.Autowired('gridOptionsWrapper'), __metadata(\"design:type\", gridOptionsWrapper_1.GridOptionsWrapper)], HorizontalResizeService.prototype, \"gridOptionsWrapper\", void 0);\n\n  __decorate([context_1.Autowired('dragService'), __metadata(\"design:type\", dragService_1.DragService)], HorizontalResizeService.prototype, \"dragService\", void 0);\n\n  __decorate([context_1.Autowired('eGridDiv'), __metadata(\"design:type\", HTMLElement)], HorizontalResizeService.prototype, \"eGridDiv\", void 0);\n\n  HorizontalResizeService = __decorate([context_1.Bean('horizontalResizeService')], HorizontalResizeService);\n  return HorizontalResizeService;\n}();\n\nexports.HorizontalResizeService = HorizontalResizeService;","map":null,"metadata":{},"sourceType":"script"}