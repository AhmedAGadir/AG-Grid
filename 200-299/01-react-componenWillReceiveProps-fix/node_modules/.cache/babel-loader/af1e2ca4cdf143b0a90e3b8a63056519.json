{"ast":null,"code":"/**\n * ag-grid-community - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v19.1.4\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar constants_1 = require(\"../../constants\");\n\nvar component_1 = require(\"../../widgets/component\");\n\nvar utils_1 = require(\"../../utils\");\n\nvar TextCellEditor =\n/** @class */\nfunction (_super) {\n  __extends(TextCellEditor, _super);\n\n  function TextCellEditor() {\n    return _super.call(this, TextCellEditor.TEMPLATE) || this;\n  }\n\n  TextCellEditor.prototype.init = function (params) {\n    this.params = params;\n    var eInput = this.getGui();\n    var startValue; // cellStartedEdit is only false if we are doing fullRow editing\n\n    if (params.cellStartedEdit) {\n      this.focusAfterAttached = true;\n      var keyPressBackspaceOrDelete = params.keyPress === constants_1.Constants.KEY_BACKSPACE || params.keyPress === constants_1.Constants.KEY_DELETE;\n\n      if (keyPressBackspaceOrDelete) {\n        startValue = '';\n      } else if (params.charPress) {\n        startValue = params.charPress;\n      } else {\n        startValue = this.getStartValue(params);\n\n        if (params.keyPress !== constants_1.Constants.KEY_F2) {\n          this.highlightAllOnFocus = true;\n        }\n      }\n    } else {\n      this.focusAfterAttached = false;\n      startValue = this.getStartValue(params);\n    }\n\n    if (utils_1.Utils.exists(startValue)) {\n      eInput.value = startValue;\n    }\n\n    this.addDestroyableEventListener(eInput, 'keydown', function (event) {\n      var isNavigationKey = event.keyCode === constants_1.Constants.KEY_LEFT || event.keyCode === constants_1.Constants.KEY_RIGHT || event.keyCode === constants_1.Constants.KEY_UP || event.keyCode === constants_1.Constants.KEY_DOWN || event.keyCode === constants_1.Constants.KEY_PAGE_DOWN || event.keyCode === constants_1.Constants.KEY_PAGE_UP || event.keyCode === constants_1.Constants.KEY_PAGE_HOME || event.keyCode === constants_1.Constants.KEY_PAGE_END;\n\n      if (isNavigationKey) {\n        // this stops the grid from executing keyboard navigation\n        event.stopPropagation(); // this stops the browser from scrolling up / down\n\n        var pageUp = event.keyCode === constants_1.Constants.KEY_PAGE_UP;\n        var pageDown = event.keyCode === constants_1.Constants.KEY_PAGE_DOWN;\n\n        if (pageUp || pageDown) {\n          event.preventDefault();\n        }\n      }\n    });\n  };\n\n  TextCellEditor.prototype.afterGuiAttached = function () {\n    if (!this.focusAfterAttached) {\n      return;\n    }\n\n    var eInput = this.getGui();\n    eInput.focus();\n\n    if (this.highlightAllOnFocus) {\n      eInput.select();\n    } else {\n      // when we started editing, we want the carot at the end, not the start.\n      // this comes into play in two scenarios: a) when user hits F2 and b)\n      // when user hits a printable character, then on IE (and only IE) the carot\n      // was placed after the first character, thus 'apply' would end up as 'pplea'\n      var length_1 = eInput.value ? eInput.value.length : 0;\n\n      if (length_1 > 0) {\n        eInput.setSelectionRange(length_1, length_1);\n      }\n    }\n  }; // gets called when tabbing trough cells and in full row edit mode\n\n\n  TextCellEditor.prototype.focusIn = function () {\n    var eInput = this.getGui();\n    eInput.focus();\n    eInput.select();\n  };\n\n  TextCellEditor.prototype.getValue = function () {\n    var eInput = this.getGui();\n    return this.params.parseValue(eInput.value);\n  };\n\n  TextCellEditor.prototype.getStartValue = function (params) {\n    var formatValue = params.useFormatter || params.column.getColDef().refData;\n    return formatValue ? params.formatValue(params.value) : params.value;\n  };\n\n  TextCellEditor.TEMPLATE = '<input class=\"ag-cell-edit-input\" type=\"text\"/>';\n  return TextCellEditor;\n}(component_1.Component);\n\nexports.TextCellEditor = TextCellEditor;","map":null,"metadata":{},"sourceType":"script"}